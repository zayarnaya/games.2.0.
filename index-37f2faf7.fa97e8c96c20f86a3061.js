"use strict";(self.webpackChunkGames=self.webpackChunkGames||[]).push([[935],{3052:(e,t,r)=>{r(7294);var n=r(745),l=r(1291),a=r(5893);const i=document.getElementById("root");(0,n.s)(i).render((0,a.jsx)(l.Z,{}))},1986:(e,t,r)=>{r.r(t),r.d(t,{default:()=>n});const n='<h3>Правила игры в вычеркни число</h3> <p> Цель игры - полностью освободить от цифр игровое поле. Для этого нужно удалять цифры, сумма которых равна 10 либо которые равны друг другу и между которыми нет других цифр по горизонтали либо по вертикали (удаленные цифры не считаются). </p> <p>Когда все возможности удаления исчерпаны, нажмите "Дальше" &mdash; на поле добавятся неудаленные цифры.</p> '},2855:(e,t,r)=>{r.r(t),r.d(t,{default:()=>n});const n='<article> <h5>Все знают, как играть в тетрис! А если вы не знаете - так это просто: </h5> <ul> <li>ставите фигуры,</li> <li>складываете из них ряды,</li> <li>ряды исчезают, </li> <li>очки прибавляются ))</li> </ul> <h5> <strong>Подсчет очков</strong> ведется по схеме: </h5> <table className="rules__table"> <thead> <tr> <th> <strong>Уровень</strong> </th> <th> <strong>1 ряд</strong> </th> <th> <strong>2 ряда</strong> </th> <th> <strong>3 ряда</strong> </th> <th> <strong>4 ряда</strong> </th> </tr> </thead> <tbody> <tr> <td>0</td> <td>40</td> <td>100</td> <td>300</td> <td>1200</td> </tr> <tr> <td>1</td> <td>80</td> <td>200</td> <td>600</td> <td>2400</td> </tr> <tr> <td>2</td> <td>120</td> <td>300</td> <td>900</td> <td>3600</td> </tr> <tr> <td>9</td> <td>400</td> <td>1000</td> <td>3000</td> <td>12000</td> </tr> <tr> <td>n</td> <td>40 * (n + 1)</td> <td>100 * (n + 1)</td> <td>300 * (n + 1)</td> <td>1200 * (n + 1)</td> </tr> </tbody> </table> <h5> А еще <strong>добавляются очки за ускоренную установку фигуры</strong>: </h5> <ul> <li>2 очка / клетка за пробел,</li> <li>1 очко / клетка за клавишу вниз</li> </ul> <h5> Кстати! <strong>Управление фигурами</strong> осуществляется клавишами (стрелки и WASD для олдовых геймеров) </h5> <ul> <li> <strong>влево / A</strong> сдвигает фигуру влево (если быстро нажать - на клетку, если нажать и не отпускать - до упора) </li> <li> <strong>вправо / D</strong>, соответственно, сдвигает фигуру вправо </li> <li> <strong>вверх / W</strong> поворачивает фигуру по часовой стрелке на 90 градусов </li> <li> <strong>вниз / S</strong> опускает фигуру быстрее </li> <li> <strong>пробел</strong> "бросает" фигуру </li> <li> по нажатию на <strong>ENTER</strong> разворачивается фуллскрин (чтобы вернуться - нажмите еще раз) </li> <li> по нажатию на <strong>P</strong> игра ставится на паузу </li> </ul> <p> <strong>Уровень поднимается</strong> каждые 10 убранных рядов, при этом растет и скорость, а значит, играть становится сложнее. </p> <p> Маленькая подсказка: чем больше рядов уберете сразу, тем больше получите очков. Попробуйте оставлять место под Длинную Палку, чтобы одним махом убирать четыре ряда! (но не переусердствуйте, а то завалит) </p> <p> Вроде бы все :) <strong>Приятной игры!</strong> ^___^ </p> </article> '},541:(e,t,r)=>{r.r(t),r.d(t,{default:()=>n});const n={"line-button":"line-button__OWmUt","line-button_wrong":"line-button_wrong__srWdi",active:"active__nCOXS"}},1451:(e,t,r)=>{r.r(t),r.d(t,{default:()=>n});const n={"line-field":"line-field__vLvdg"}},1046:(e,t,r)=>{r.r(t),r.d(t,{default:()=>n});const n={"line-layout":"line-layout__u9FC8"}},1766:(e,t,r)=>{r.r(t),r.d(t,{default:()=>n});const n={"field-tetris":"field-tetris__YveRS","next-figure__container":"next-figure__container__Kiti0","next-figure__canvas":"next-figure__canvas__k066r"}},5404:function(e,t,r){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var l in t=arguments[r])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e},n.apply(this,arguments)},l=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(r[n[l]]=e[n[l]])}return r},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LineButton=void 0;var i=a(r(7294)),o=a(r(3967)),u=a(r(541));t.LineButton=function(e){var t=e.children,r=e.className,a=e.active,s=void 0!==a&&a,d=l(e,["children","className","active"]);return i.default.createElement("button",n({className:(0,o.default)(r,u.default["line-button"],s&&u.default.active)},d),t)}},2934:function(e,t,r){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var l in t=arguments[r])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e},n.apply(this,arguments)},l=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(r[n[l]]=e[n[l]])}return r},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LineField=void 0;var i=a(r(7294)),o=a(r(3967)),u=a(r(1451));t.LineField=function(e){var t=e.children,r=e.className,a=l(e,["children","className"]);return i.default.createElement("div",n({className:(0,o.default)(r,u.default["line-field"])},a),t)},t.default=name},9880:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.defaultItem=t.startArr=void 0,t.startArr=[1,1,1,2,1,3,1,4,1,1,2,3,4,5,6,7,8,9],t.defaultItem={active:!1,deleted:!1,value:0}},9563:function(e,t,r){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var l in t=arguments[r])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.checkVertical=t.checkHorizontal=t.getDefaultArray=void 0;var l=r(9880);t.getDefaultArray=function(){return l.startArr.map((function(e){return n(n({},l.defaultItem),{value:e})}))},t.checkHorizontal=function(e,t,r){if(e[t].value!==e[r].value&&e[t].value+e[r].value!==10)return!1;for(var n=Math.min(t,r)+1;n<Math.max(t,r);n++)if(!e[n].deleted)return!1;return!0},t.checkVertical=function(e,t,r){if(e[t].value!==e[r].value&&e[t].value+e[r].value!==10)return!1;if(t-9*Math.floor(t/9)!=r-9*Math.floor(r/9))return!1;for(var n=Math.min(t,r)+9;n<Math.max(t,r);n+=9)if(!e[n].deleted)return!1;return!0}},7338:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LineLayout=void 0;var l=n(r(7294)),a=n(r(3967)),i=n(r(1046));t.LineLayout=function(e){var t=e.children,r=e.className;return l.default.createElement("div",{className:(0,a.default)(r,i.default["line-layout"])},t)}},5682:function(e,t,r){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var l in t=arguments[r])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e},n.apply(this,arguments)},l=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var l=Object.getOwnPropertyDescriptor(t,r);l&&!("get"in l?!t.__esModule:l.writable||l.configurable)||(l={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,l)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&l(t,e,r);return a(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Tetris=void 0;var u=i(r(7294)),s=o(r(3967)),d=o(r(1766)),c=r(9393),f=r(9926),m=r(916),v=r(7256),h=r(2958),g=r(2176),_=r(233),p=o(r(2855)),y=r(7282),b=r(7173),S=r(8332);t.Tetris=function(){var e=c.dimensions.width,t=c.dimensions.height,r=c.dimensions.cellSize,l=c.dimensions.figWidth,a=c.dimensions.figHeight,i=(0,u.useState)([]),o=i[0],w=i[1],O=(0,u.useState)(null),E=O[0],M=O[1],x=(0,u.useState)(null),j=x[0],P=x[1],k=(0,u.useState)(!1),C=k[0],T=k[1],D=(0,u.useState)(!1),F=D[0],R=D[1],L=(0,u.useState)(!1),A=L[0],I=L[1],N=(0,u.useState)(0),z=N[0],V=N[1],B=(0,u.useState)(0),W=B[0],G=B[1],q=(0,u.useState)(1e3),K=q[0],H=q[1],J=(0,u.useState)(1),Z=J[0],U=J[1],X=(0,u.useState)("00:00:00"),Y=X[0],Q=X[1],$=(0,u.useState)(!1),ee=$[0],te=$[1],re=(0,u.useState)(null),ne=re[0],le=re[1],ae=(0,u.useState)(null),ie=ae[0],oe=ae[1],ue=(0,u.useRef)(null),se=(0,u.useRef)(null),de=(0,u.useRef)(null),ce=(0,u.useRef)(null),fe=(0,u.useState)(!1),me=fe[0],ve=fe[1],he=JSON.parse(localStorage.getItem("tetris-score"))||{score:c.defaults.score,lineCount:c.defaults.lineCount,time:c.defaults.time},ge=he.score,_e=he.lineCount,pe=he.time;(0,u.useEffect)((function(){return document.addEventListener("keydown",Me),function(){document.removeEventListener("keydown",Me)}})),(0,u.useEffect)((function(){var e=ue.current,t=se.current;if(e&&t){var r=e.getContext("2d"),n=t.getContext("2d");r&&n&&(r.fillStyle="rgba(255, 255, 255, 0)",r.strokeStyle="rgba(0, 0, 0, 1)",r.fillRect(0,0,r.canvas.width,r.canvas.height),le(r),oe(n))}}),[]),(0,u.useEffect)((function(){ne&&ye()}),[ne]),(0,u.useEffect)((function(){!C&&!A||F||requestAnimationFrame(be)}),[ee,E,j]);var ye=function(){w((0,f.getDefaultPlayfield)()),V(c.defaults.score),U(c.defaults.level),G(c.defaults.lineCount),H(c.defaults.speed),T(c.defaults.isGameStarted),I(c.defaults.gameOver),R(c.defaults.pause),M((0,f.getRandomTetromino)()),P((0,f.getRandomTetromino)()),Q(c.defaults.time)},be=(0,u.useCallback)((function(){if(!F&&ne){var e=ne,t=ie;if(e.clearRect(0,0,ue.current.width,ue.current.height),(0,f.drawField)(e),(0,f.colorField)(e,o),j){t.clearRect(0,0,se.current.width,se.current.height);for(var n=0;n<j.matrix.length;n++)for(var l=0;l<j.matrix[n].length;l++){var a=1.5;"I"===j.name&&(a=1),t.fillStyle=c.colors[j.name],j.matrix[n][l]&&t.fillRect((l+("O"===j.name?2:a))*r,(n+a)*r,r-1,r-1)}}if(E){var i=E;i.row++,(0,f.isValidMove)(i,o)||(i.row--,M(i),xe()),(0,f.colorTetromino)(e,E,A?"lightgray":c.colors[E.name])}le(e),oe(t)}}),[ne,o,E,j,A]);ce.current=setTimeout((function(){C&&!F&&te(!ee)}),K);var Se=(0,u.useCallback)((function(){T(!0),R(!1),ue.current.focus()}),[C,F,ue]),we=(0,u.useCallback)((function(){I(!1),ye(),Se()}),[A]),Oe=(0,u.useCallback)((function(){var e=de.current.dataset.time,t={score:Math.max(z,ge),lineCount:Math.max(W,_e),time:e.localeCompare(pe)>0?e:pe};localStorage.setItem("tetris-score",JSON.stringify(t)),Q(e),C&&ve(!0),I(!0),T(!1),F&&R(!1),(0,f.colorField)(ne,o,"lightgray")}),[Y,C,A,F,ne]),Ee=(0,u.useCallback)((function(){R(!F),F||ue.current.focus()}),[F,ue]),Me=function(e){switch(e.code){case"ArrowUp":case"KeyW":var t=(0,f.rotate)(E.matrix);(0,f.isValidMove)(n(n({},E),{matrix:t}),o)&&M(n(n({},E),{matrix:t}));break;case"ArrowDown":case"KeyS":var r=E.row+1;if(!(0,f.isValidMove)(n(n({},E),{row:r}),o))return M(n(n({},E),{row:r})),void xe();M(n(n({},E),{row:r})),V(z+1);break;case"ArrowLeft":case"KeyA":var l=E.col-1;(0,f.isValidMove)(n(n({},E),{col:l}),o)&&M(n(n({},E),{col:l}));break;case"ArrowRight":case"KeyD":l=E.col+1,(0,f.isValidMove)(n(n({},E),{col:l}),o)&&M(n(n({},E),{col:l}));break;case"KeyP":Ee();break;case"Space":for(var a=z;(0,f.isValidMove)(E,o);)M({currentTetromino:E,row:E.row++}),a+=2;(0,f.isValidMove)(E,o)||(M(n(n({},E),{row:E.row--})),xe(),V(a-2));break;case"Enter":document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen()}},xe=function(){var e;try{for(var t=0,r=(0,S.copyMatrix)(o),n=!1,l=0;l<E.matrix.length;l++)for(var a=0;a<E.matrix[l].length;a++)E.matrix[l][a]&&(E.row+l<0&&(Oe(),n=!0),n||(r[E.row+l][E.col+a]=E.name));for(var i=o.length-1;i>=0;)if(r[i].every((function(e){return!!e}))){t++;var u=W;++u>=10&&u%10==0&&(U(Z+1),H(K-50));for(var s=i;s>0;s--)for(var d=0;d<o[s].length;d++)r[s][d]=r[s-1][d];G(u)}else i--;var m=null!==(e=c.lineScore[t])&&void 0!==e?e:1200;for(V(z+m*(Z+1)),s=0;s<o[0].length;s++)if(void 0!==o[0][s])return void Oe();M(j),P((0,f.getRandomTetromino)()),w(r)}catch(e){console.log(e)}};return u.default.createElement(m.GameLayout,null,me&&u.default.createElement(b.Modal,{onClose:function(){return ve(!1)}},u.default.createElement("p",null,"Игра закончена! ",u.default.createElement("br",null),"Ваш счет ",z,", вы убрали ",W," линий за ",Y,".",u.default.createElement("br",null),"Поздравляем!"),u.default.createElement("br",null),u.default.createElement(_.Button,{onClick:we},"Новая игра")),u.default.createElement("div",{className:(0,s.default)(d.default["field-tetris"])},F&&u.default.createElement(h.Patch,{game:"tetris"}),u.default.createElement("canvas",{ref:ue,id:"canvas",width:r*e,height:r*t,tabIndex:0})),u.default.createElement(v.RulesLayout,null,u.default.createElement(g.Timer,{ref:de,time:Y,pause:!C||F}),u.default.createElement(y.Score,null,z),u.default.createElement("div",null,"Уровень ",Z),u.default.createElement("div",null,"Убрали линий ",W),u.default.createElement("div",null,"Рекорд: ",ge),u.default.createElement("div",null,"Максимальное количество убранных линий: ",_e),u.default.createElement("div",null,"Самая долгая игра: ",pe),u.default.createElement("div",null,u.default.createElement("h3",null,"Игровое меню"),u.default.createElement("div",{className:d.default["next-figure__container"]},u.default.createElement("p",null,"следующая фигура"),u.default.createElement("canvas",{className:d.default["next-figure__canvas"],ref:se,id:"canvas-figure",width:l*r,height:a*r})),u.default.createElement("div",null,u.default.createElement(_.Button,{onClick:we,size:"md"},C?"Играть заново":"Начать игру"),u.default.createElement(_.Button,{size:"md",disabled:!C,onClick:Oe},"Закончить игру"),u.default.createElement(_.Button,{size:"md",disabled:!C,onClick:Ee},F?"Вернуться к игре":"Пауза"))),u.default.createElement("div",{dangerouslySetInnerHTML:{__html:p.default}})))}},9393:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.colors=t.lineScore=t.fillGameCanvas=t.maxMobileWidth=t.defaultSequence=t.gray=t.tetrominos=t.defaults=t.dimensions=void 0,t.dimensions={width:10,height:20,cellSize:30,figWidth:6,figHeight:5},t.defaults={isGameStarted:!1,pause:!1,gameOver:!1,score:0,lineCount:0,speed:1e3,level:1,time:"00:00:00"},t.tetrominos={I:[[0,0,0,0],[1,1,1,1],[0,0,0,0],[0,0,0,0]],J:[[1,0,0],[1,1,1],[0,0,0]],L:[[0,0,1],[1,1,1],[0,0,0]],O:[[1,1],[1,1]],S:[[0,1,1],[1,1,0],[0,0,0]],Z:[[1,1,0],[0,1,1],[0,0,0]],T:[[0,1,0],[1,1,1],[0,0,0]]},t.gray="#D9D9D9",t.defaultSequence=["I","J","L","O","S","T","Z"],t.maxMobileWidth=768,t.fillGameCanvas="rgba(255, 255, 255, 0",t.lineScore={0:0,1:40,2:100,3:300},t.colors={I:"#FFDD00",O:"#0DCAF0",T:"#EE82EE",S:"#CB0000",Z:"#FFA500",J:"#0000FF",L:"#008000"}},9926:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.colorTetromino=t.colorField=t.drawField=t.isValidMove=t.rotate=t.getDefaultPlayfield=t.getRandomTetromino=void 0;var n=r(9393);t.getRandomTetromino=function(){return function(e){return{name:e,matrix:n.tetrominos[e],row:"I"===e?-2:-1,col:3}}((e=0,t=n.defaultSequence.length-1,e=Math.ceil(e),t=Math.floor(t),r=Math.floor(Math.random()*(t-e+1))+e,n.defaultSequence[r]));var e,t,r},t.getDefaultPlayfield=function(){for(var e=[],t=-2;t<n.dimensions.height;t++){e[t]=[];for(var r=0;r<n.dimensions.width;r++)e[t][r]=void 0}return e},t.rotate=function(e){var t=e.length-1;return e.map((function(r,n){return r.map((function(r,l){return e[t-l][n]}))}))},t.isValidMove=function(e,t){for(var r=e.matrix,n=e.row,l=void 0===n?0:n,a=e.col,i=void 0===a?0:a,o=0;o<r.length;o++)for(var u=0;u<r[o].length;u++)if(r[o][u]&&(i+u<0||i+u>=t[0].length||l+o>=t.length||t[l+o]&&t[l+o][i+u]))return!1;return!0},t.drawField=function(e){var t=n.dimensions.width,r=n.dimensions.height,l=n.dimensions.cellSize;e.beginPath();for(var a=0;a<=t;a++)e.moveTo(l*a,0),e.lineTo(l*a,l*r);for(var i=0;i<=r;i++)e.moveTo(0,l*i),e.lineTo(l*t,l*i);e.fillStyle="white",e.fillRect(0,0,e.canvas.width,e.canvas.height),e.stroke()},t.colorField=function(e,t,r){for(var l=0;l<n.dimensions.height;l++)for(var a=0;a<n.dimensions.width;a++)if(t[l][a]){0;var i=t[l][a];e.fillStyle=r||(i?n.colors[i]:"white"),e.fillRect(a*n.dimensions.cellSize+1,l*n.dimensions.cellSize+1,n.dimensions.cellSize-2,n.dimensions.cellSize-2)}},t.colorTetromino=function(e,t,r){var l=n.dimensions.cellSize;e.fillStyle=r;for(var a=0;a<t.matrix.length;a++)for(var i=0;i<t.matrix[a].length;i++)t.matrix[a][i]&&e.fillRect((t.col+i)*l+1,(t.row+a)*l+1,l-2,l-2)}}}]);