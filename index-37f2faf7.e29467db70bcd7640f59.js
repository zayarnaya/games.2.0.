"use strict";(self.webpackChunkGames=self.webpackChunkGames||[]).push([[830],{2896:(e,t,r)=>{r(6540);var n=r(5338),a=r(2525),i=r.n(a),o=r(4848);const l=document.getElementById("root");(0,n.H)(l).render((0,o.jsx)(i(),{}))},8326:(e,t,r)=>{r.r(t),r.d(t,{default:()=>n});const n='<article> <h5>Все знают, как играть в тетрис! А если вы не знаете - так это просто: </h5> <ul> <li>ставите фигуры,</li> <li>складываете из них ряды,</li> <li>ряды исчезают, </li> <li>очки прибавляются ))</li> </ul> <h5> <strong>Подсчет очков</strong> ведется по схеме: </h5> <table className="rules__table"> <thead> <tr> <th> <strong>Уровень</strong> </th> <th> <strong>1 ряд</strong> </th> <th> <strong>2 ряда</strong> </th> <th> <strong>3 ряда</strong> </th> <th> <strong>4 ряда</strong> </th> </tr> </thead> <tbody> <tr> <td>0</td> <td>40</td> <td>100</td> <td>300</td> <td>1200</td> </tr> <tr> <td>1</td> <td>80</td> <td>200</td> <td>600</td> <td>2400</td> </tr> <tr> <td>2</td> <td>120</td> <td>300</td> <td>900</td> <td>3600</td> </tr> <tr> <td>9</td> <td>400</td> <td>1000</td> <td>3000</td> <td>12000</td> </tr> <tr> <td>n</td> <td>40 * (n + 1)</td> <td>100 * (n + 1)</td> <td>300 * (n + 1)</td> <td>1200 * (n + 1)</td> </tr> </tbody> </table> <h5> А еще <strong>добавляются очки за ускоренную установку фигуры</strong>: </h5> <ul> <li>2 очка / клетка за пробел,</li> <li>1 очко / клетка за клавишу вниз</li> </ul> <h5> Кстати! <strong>Управление фигурами</strong> осуществляется клавишами (стрелки и WASD для олдовых геймеров) </h5> <ul> <li> <strong>влево / A</strong> сдвигает фигуру влево (если быстро нажать - на клетку, если нажать и не отпускать - до упора) </li> <li> <strong>вправо / D</strong>, соответственно, сдвигает фигуру вправо </li> <li> <strong>вверх / W</strong> поворачивает фигуру по часовой стрелке на 90 градусов </li> <li> <strong>вниз / S</strong> опускает фигуру быстрее </li> <li> <strong>пробел</strong> "бросает" фигуру </li> <li> по нажатию на <strong>ENTER</strong> разворачивается фуллскрин (чтобы вернуться - нажмите еще раз) </li> <li> по нажатию на <strong>P</strong> игра ставится на паузу </li> </ul> <p> <strong>Уровень поднимается</strong> каждые 10 убранных рядов, при этом растет и скорость, а значит, играть становится сложнее. </p> <p> Маленькая подсказка: чем больше рядов уберете сразу, тем больше получите очков. Попробуйте оставлять место под Длинную Палку, чтобы одним махом убирать четыре ряда! (но не переусердствуйте, а то завалит) </p> <p> Вроде бы все :) <strong>Приятной игры!</strong> ^___^ </p> </article> '},5051:(e,t,r)=>{r.r(t),r.d(t,{default:()=>n});const n={"field-tetris":"field-tetris__YveRS","next-figure__container":"next-figure__container__Kiti0","next-figure__canvas":"next-figure__canvas__k066r"}},6101:(e,t,r)=>{r.r(t),r.d(t,{default:()=>n});const n={button:"button__UHHLZ",button_sm:"button_sm__z6sxW",button_md:"button_md__t4_5q",right:"right__cAGiZ"}},2807:(e,t,r)=>{r.r(t),r.d(t,{default:()=>n});const n={header:"header__ieh6Z"}},1043:(e,t,r)=>{r.r(t),r.d(t,{default:()=>n});const n={modal__blackout:"modal__blackout__KuuGW",modal__container:"modal__container__InvVi","modal__close-button":"modal__close-button__GTSpb"}},5303:(e,t,r)=>{r.r(t),r.d(t,{default:()=>n});const n={patch:"patch__hYOob",patch__message:"patch__message__gqFOA",patch_knight:"patch_knight__kopRB",patch_line:"patch_line__KGmd8",patch_tetris:"patch_tetris__ZDsF6"}},1547:(e,t,r)=>{r.r(t),r.d(t,{default:()=>n});const n={}},270:(e,t,r)=>{r.r(t),r.d(t,{default:()=>n});const n={"nav-list__item":"nav-list__item__dj29w",active:"active__C2t8u"}},5086:(e,t,r)=>{r.r(t),r.d(t,{default:()=>n});const n={sidebar:"sidebar__j6IVa"}},4015:(e,t,r)=>{r.r(t),r.d(t,{default:()=>n});const n={white:"white__Ds2zX",spinner:"spinner__u2IZh",dot:"dot__UajyK",Rotate:"Rotate__VPd9r",item:"item__CBJio",SpinMove:"SpinMove__PvDIF"}},8219:(e,t,r)=>{r.r(t),r.d(t,{default:()=>n});const n={}},9418:(e,t,r)=>{r.r(t),r.d(t,{default:()=>n});const n={"game-layout":"game-layout__XzU6b","game-heading":"game-heading__l9lw2"}},1360:(e,t,r)=>{r.r(t),r.d(t,{default:()=>n});const n={"main-content-wrapper":"main-content-wrapper__A5Wox"}},4356:(e,t,r)=>{r.r(t),r.d(t,{default:()=>n});const n={"rules-layout":"rules-layout__ii9_q"}},4557:function(e,t,r){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},n.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&a(t,e,r);return i(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Tetris=void 0;var u=o(r(6540)),c=l(r(6942)),d=l(r(5051)),s=r(1870),f=r(3821),m=r(7664),v=r(238),_=r(79),h=r(2219),p=r(3141),g=l(r(8326)),b=r(7115),y=r(8006),M=r(6782),S=l(r(5134));t.Tetris=function(){var e=s.dimensions.width,t=s.dimensions.height,r=s.dimensions.cellSize,a=s.dimensions.figWidth,i=s.dimensions.figHeight,o=(0,u.useState)([]),l=o[0],O=o[1],j=(0,u.useState)(null),P=j[0],w=j[1],E=(0,u.useState)(null),T=E[0],x=E[1],N=(0,u.useState)(!1),D=N[0],k=N[1],C=(0,u.useState)(!1),R=C[0],I=C[1],A=(0,u.useState)(!1),G=A[0],F=A[1],L=(0,u.useState)(0),W=L[0],B=L[1],H=(0,u.useState)(0),z=H[0],V=H[1],U=(0,u.useState)(1e3),q=U[0],K=U[1],Z=(0,u.useState)(1),J=Z[0],X=Z[1],Y=(0,u.useState)("00:00:00"),Q=Y[0],$=Y[1],ee=(0,u.useState)(!1),te=ee[0],re=ee[1],ne=(0,u.useState)(null),ae=ne[0],ie=ne[1],oe=(0,u.useState)(null),le=oe[0],ue=oe[1],ce=(0,u.useRef)(null),de=(0,u.useRef)(null),se=(0,u.useRef)(null),fe=(0,u.useRef)(null),me=(0,u.useState)(!1),ve=me[0],_e=me[1],he=JSON.parse(localStorage.getItem("tetris-score"))||{score:s.defaults.score,lineCount:s.defaults.lineCount,time:s.defaults.time},pe=he.score,ge=he.lineCount,be=he.time;(0,u.useEffect)((function(){return document.addEventListener("keydown",we),function(){document.removeEventListener("keydown",we)}})),(0,u.useEffect)((function(){var e=ce.current,t=de.current;if(e&&t){var r=e.getContext("2d"),n=t.getContext("2d");r&&n&&(r.fillStyle="rgba(255, 255, 255, 0)",r.strokeStyle="rgba(0, 0, 0, 1)",r.fillRect(0,0,r.canvas.width,r.canvas.height),ie(r),ue(n))}}),[]),(0,u.useEffect)((function(){ae&&ye()}),[ae]),(0,u.useEffect)((function(){!D&&!G||R||requestAnimationFrame(Me)}),[te,P,T]);var ye=function(){O((0,f.getDefaultPlayfield)()),B(s.defaults.score),X(s.defaults.level),V(s.defaults.lineCount),K(s.defaults.speed),k(s.defaults.isGameStarted),F(s.defaults.gameOver),I(s.defaults.pause),w((0,f.getRandomTetromino)()),x((0,f.getRandomTetromino)()),$(s.defaults.time)},Me=(0,u.useCallback)((function(){if(!R&&ae){var e=ae,t=le;if(e.clearRect(0,0,ce.current.width,ce.current.height),(0,f.drawField)(e),(0,f.colorField)(e,l),T){t.clearRect(0,0,de.current.width,de.current.height);for(var n=0;n<T.matrix.length;n++)for(var a=0;a<T.matrix[n].length;a++){var i=1.5;"I"===T.name&&(i=1),t.fillStyle=s.colors[T.name],T.matrix[n][a]&&t.fillRect((a+("O"===T.name?2:i))*r,(n+i)*r,r-1,r-1)}}if(P){var o=P;o.row++,(0,f.isValidMove)(o,l)||(o.row--,w(o),Ee()),(0,f.colorTetromino)(e,P,G?"lightgray":s.colors[P.name])}ie(e),ue(t)}}),[ae,l,P,T,G]);fe.current=setTimeout((function(){D&&!R&&re(!te)}),q);var Se=(0,u.useCallback)((function(){k(!0),I(!1),ce.current.focus()}),[D,R,ce]),Oe=(0,u.useCallback)((function(){F(!1),ye(),Se()}),[G]),je=(0,u.useCallback)((function(){var e=se.current.dataset.time,t={score:Math.max(W,pe),lineCount:Math.max(z,ge),time:e.localeCompare(be)>0?e:be};localStorage.setItem("tetris-score",JSON.stringify(t)),$(e),D&&_e(!0),F(!0),k(!1),R&&I(!1),(0,f.colorField)(ae,l,"lightgray")}),[Q,D,G,R,ae]),Pe=(0,u.useCallback)((function(){I(!R),R||ce.current.focus()}),[R,ce]),we=function(e){switch(e.code){case"ArrowUp":case"KeyW":var t=(0,f.rotate)(P.matrix);(0,f.isValidMove)(n(n({},P),{matrix:t}),l)&&w(n(n({},P),{matrix:t}));break;case"ArrowDown":case"KeyS":var r=P.row+1;if(!(0,f.isValidMove)(n(n({},P),{row:r}),l))return w(n(n({},P),{row:r})),void Ee();w(n(n({},P),{row:r})),B(W+1);break;case"ArrowLeft":case"KeyA":var a=P.col-1;(0,f.isValidMove)(n(n({},P),{col:a}),l)&&w(n(n({},P),{col:a}));break;case"ArrowRight":case"KeyD":a=P.col+1,(0,f.isValidMove)(n(n({},P),{col:a}),l)&&w(n(n({},P),{col:a}));break;case"KeyP":Pe();break;case"Space":for(var i=W;(0,f.isValidMove)(P,l);)w({currentTetromino:P,row:P.row++}),i+=2;(0,f.isValidMove)(P,l)||(w(n(n({},P),{row:P.row--})),Ee(),B(i-2));break;case"Enter":document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen()}},Ee=function(){var e;try{for(var t=0,r=(0,M.copyMatrix)(l),n=!1,a=0;a<P.matrix.length;a++)for(var i=0;i<P.matrix[a].length;i++)P.matrix[a][i]&&(P.row+a<0&&(je(),n=!0),n||(r[P.row+a][P.col+i]=P.name));for(var o=l.length-1;o>=0;)if(r[o].every((function(e){return!!e}))){t++;var u=z;++u>=10&&u%10==0&&(X(J+1),K(q-50));for(var c=o;c>0;c--)for(var d=0;d<l[c].length;d++)r[c][d]=r[c-1][d];V(u)}else o--;var m=null!==(e=s.lineScore[t])&&void 0!==e?e:1200;for(B(W+m*(J+1)),c=0;c<l[0].length;c++)if(void 0!==l[0][c])return void je();w(T),x((0,f.getRandomTetromino)()),O(r)}catch(e){console.log(e)}};return u.default.createElement(m.GameLayout,null,G&&u.default.createElement(S.default,null),ve&&u.default.createElement(y.Modal,{onClose:function(){return _e(!1)}},u.default.createElement("p",null,"Игра закончена! ",u.default.createElement("br",null),"Ваш счет ",W,", вы убрали ",z," линий за ",Q,".",u.default.createElement("br",null),"Поздравляем!"),u.default.createElement("br",null),u.default.createElement(p.Button,{onClick:Oe},"Новая игра")),u.default.createElement("div",{className:(0,c.default)(d.default["field-tetris"])},R&&u.default.createElement(_.Patch,{game:"tetris"}),u.default.createElement("canvas",{ref:ce,id:"canvas",width:r*e,height:r*t,tabIndex:0})),u.default.createElement(v.RulesLayout,null,u.default.createElement(h.Timer,{ref:se,time:Q,pause:!D||R}),u.default.createElement(b.Score,null,W),u.default.createElement("div",null,"Уровень ",J),u.default.createElement("div",null,"Убрали линий ",z),u.default.createElement("div",null,"Рекорд: ",pe),u.default.createElement("div",null,"Максимальное количество убранных линий: ",ge),u.default.createElement("div",null,"Самая долгая игра: ",be),u.default.createElement("div",null,u.default.createElement("h3",null,"Игровое меню"),u.default.createElement("div",{className:d.default["next-figure__container"]},u.default.createElement("p",null,"следующая фигура"),u.default.createElement("canvas",{className:d.default["next-figure__canvas"],ref:de,id:"canvas-figure",width:a*r,height:i*r})),u.default.createElement("div",null,u.default.createElement(p.Button,{onClick:Oe,size:"md"},D?"Играть заново":"Начать игру"),u.default.createElement(p.Button,{size:"md",disabled:!D,onClick:je},"Закончить игру"),u.default.createElement(p.Button,{size:"md",disabled:!D,onClick:Pe},R?"Вернуться к игре":"Пауза"))),u.default.createElement("div",{dangerouslySetInnerHTML:{__html:g.default}})))}},1870:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.colors=t.lineScore=t.fillGameCanvas=t.maxMobileWidth=t.defaultSequence=t.gray=t.tetrominos=t.defaults=t.dimensions=void 0,t.dimensions={width:10,height:20,cellSize:30,figWidth:6,figHeight:5},t.defaults={isGameStarted:!1,pause:!1,gameOver:!1,score:0,lineCount:0,speed:1e3,level:1,time:"00:00:00"},t.tetrominos={I:[[0,0,0,0],[1,1,1,1],[0,0,0,0],[0,0,0,0]],J:[[1,0,0],[1,1,1],[0,0,0]],L:[[0,0,1],[1,1,1],[0,0,0]],O:[[1,1],[1,1]],S:[[0,1,1],[1,1,0],[0,0,0]],Z:[[1,1,0],[0,1,1],[0,0,0]],T:[[0,1,0],[1,1,1],[0,0,0]]},t.gray="#D9D9D9",t.defaultSequence=["I","J","L","O","S","T","Z"],t.maxMobileWidth=768,t.fillGameCanvas="rgba(255, 255, 255, 0",t.lineScore={0:0,1:40,2:100,3:300},t.colors={I:"#FFDD00",O:"#0DCAF0",T:"#EE82EE",S:"#CB0000",Z:"#FFA500",J:"#0000FF",L:"#008000"}},3821:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.colorTetromino=t.colorField=t.drawField=t.isValidMove=t.rotate=t.getDefaultPlayfield=t.getRandomTetromino=void 0;var n=r(1870);t.getRandomTetromino=function(){return{name:(e=0,t=n.defaultSequence.length-1,e=Math.ceil(e),t=Math.floor(t),r=Math.floor(Math.random()*(t-e+1))+e,a=n.defaultSequence[r]),matrix:n.tetrominos[a],row:"I"===a?-2:-1,col:3};var e,t,r,a},t.getDefaultPlayfield=function(){for(var e=[],t=-2;t<n.dimensions.height;t++){e[t]=[];for(var r=0;r<n.dimensions.width;r++)e[t][r]=void 0}return e},t.rotate=function(e){var t=e.length-1;return e.map((function(r,n){return r.map((function(r,a){return e[t-a][n]}))}))},t.isValidMove=function(e,t){for(var r=e.matrix,n=e.row,a=void 0===n?0:n,i=e.col,o=void 0===i?0:i,l=0;l<r.length;l++)for(var u=0;u<r[l].length;u++)if(r[l][u]&&(o+u<0||o+u>=t[0].length||a+l>=t.length||t[a+l]&&t[a+l][o+u]))return!1;return!0},t.drawField=function(e){var t=n.dimensions.width,r=n.dimensions.height,a=n.dimensions.cellSize;e.beginPath();for(var i=0;i<=t;i++)e.moveTo(a*i,0),e.lineTo(a*i,a*r);for(var o=0;o<=r;o++)e.moveTo(0,a*o),e.lineTo(a*t,a*o);e.fillStyle="white",e.fillRect(0,0,e.canvas.width,e.canvas.height),e.stroke()},t.colorField=function(e,t,r){for(var a=0;a<n.dimensions.height;a++)for(var i=0;i<n.dimensions.width;i++)if(t[a][i]){0;var o=t[a][i];e.fillStyle=r||(o?n.colors[o]:"white"),e.fillRect(i*n.dimensions.cellSize+1,a*n.dimensions.cellSize+1,n.dimensions.cellSize-2,n.dimensions.cellSize-2)}},t.colorTetromino=function(e,t,r){var a=n.dimensions.cellSize;e.fillStyle=r;for(var i=0;i<t.matrix.length;i++)for(var o=0;o<t.matrix[i].length;o++)t.matrix[i][o]&&e.fillRect((t.col+o)*a+1,(t.row+i)*a+1,a-2,a-2)}},6091:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useInterval=void 0;var n=r(1125);Object.defineProperty(t,"useInterval",{enumerable:!0,get:function(){return n.useInterval}})},1125:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useInterval=void 0;var n=r(6540);t.useInterval=function(e,t){var r=(0,n.useRef)();(0,n.useEffect)((function(){r.current=e}),[e]),(0,n.useEffect)((function(){if(null!==t){var e=setInterval((function(){null==r||r.current()}),t);return function(){return clearInterval(e)}}}),[t])}},1086:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.legitMoves=void 0,t.legitMoves=[[-2,1],[-2,-1],[-1,2],[1,2],[2,1],[2,-1],[1,-2],[-1,-2]]},4289:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.lineFailCount=t.lineScoring=void 0,t.lineScoring={delete:10,next:10,undo:-15,win:1e3},t.lineFailCount=200},1834:function(e,t,r){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},n.apply(this,arguments)},a=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,a=0,i=t.length;a<i;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.setHint=t.removeHint=t.getDefaultField=void 0;var i=r(1086);t.getDefaultField=function(){for(var e=[],t=0;t<10;t++){e.push([]);for(var r=0;r<10;r++)e[t].push({hint:!1,wrong:!1,value:0})}return e},t.removeHint=function(e,t){for(var r=e[0],o=e[1],l=a([],t,!0),u=0,c=i.legitMoves;u<c.length;u++){var d=c[u];l[r+d[0]]&&l[r+d[0]][o+d[1]]&&(l[r+d[0]][o+d[1]]=n(n({},l[r+d[0]][o+d[1]]),{hint:!1}))}return l},t.setHint=function(e,t){for(var r=e[0],o=e[1],l=a([],t,!0),u=0,c=0,d=i.legitMoves;c<d.length;c++){var s=d[c];l[r+s[0]]&&l[r+s[0]][o+s[1]]&&!l[r+s[0]][o+s[1]].value&&(u++,l[r+s[0]][o+s[1]]=n(n({},l[r+s[0]][o+s[1]]),{hint:!0}))}return u?l:null}},4486:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useAppSelector=t.useAppDispatch=void 0;var n=r(3729);t.useAppDispatch=n.useDispatch.withTypes(),t.useAppSelector=n.useSelector.withTypes()},7649:function(e,t,r){var n,a=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,a=0,i=t.length;a<i;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.onLoadGame=t.restart=t.onUndoMove=t.removeWrongMove=t.setWrongMove=t.onNextMove=t.resetTimer=t.startTimer=t.saveTimer=t.onStartGame=t.knightSlice=void 0;var i=r(4603),o=r(1834),l={field:(0,o.getDefaultField)(),count:0,history:[],lastCoords:[],started:!1,time:"",win:!1,fail:!1};t.knightSlice=(0,i.createSlice)({name:"knight",initialState:l,reducers:{onNextMove:function(e,t){var r=t.payload,n=r.coords,a=r.coords2,i=a[0],l=a[1];e.count++;var u=(0,o.removeHint)(n,e.field);if(e.field[i][l].value=e.count,100===e.count)return e.win=!0,void(e.started=!1);var c=e.history;c.push([i,l]),e.history=c;var d=(0,o.setHint)([i,l],u);e.field=d||u,d||(e.fail=!0,e.started=!1),e.lastCoords=[i,l]},onUndoMove:function(e){var t=e.history.pop(),r=t[0],n=t[1];e.field[r][n].value=0,e.count--,e.lastCoords=[r,n]},setWrongMove:function(e,t){var r=t.payload,n=r[0],i=r[1],o=a([],e.field,!0);o[n][i].wrong=!0,e.field=o},removeWrongMove:function(e,t){var r=t.payload,n=r[0],i=r[1],o=a([],e.field,!0);o[n][i].wrong=!1,e.field=o},onStartGame:function(e){e.started=!0},restart:function(e){var t;for(var r in l)Object.assign(e,((t={})[r]=l[r],t));e.started=!0},onLoadGame:function(e,t){var r,n=t.payload;for(var a in e)Object.assign(e,((r={})[a]=n[a]||l[a],r));e.started=!0},startTimer:function(e){e.time="00:00:00"},resetTimer:function(e){e.time=l.time},saveTimer:function(e,t){"00:00:00"!==t.payload&&(e.time=t.payload)}}}),t.onStartGame=(n=t.knightSlice.actions).onStartGame,t.saveTimer=n.saveTimer,t.startTimer=n.startTimer,t.resetTimer=n.resetTimer,t.onNextMove=n.onNextMove,t.setWrongMove=n.setWrongMove,t.removeWrongMove=n.removeWrongMove,t.onUndoMove=n.onUndoMove,t.restart=n.restart,t.onLoadGame=n.onLoadGame,t.default=t.knightSlice.reducer},6280:function(e,t,r){var n,a=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,a=0,i=t.length;a<i;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.resetTimer=t.startTimer=t.onLoadGame=t.onRestart=t.onUndo=t.onNext=t.onDeleteChars=t.onVictory=t.onContinue=t.saveTimer=t.onStartGame=t.lineSlice=void 0;var i=r(4603),o=r(1430),l=r(4289),u={history:[],arr:(0,o.getDefaultArray)(),score:0,timer:"",win:!1,fail:!1,started:!1,continued:!1};t.lineSlice=(0,i.createSlice)({name:"line",initialState:u,reducers:{onDeleteChars:function(e,t){var r=t.payload,n=r.idx,a=r.length,i=n[0],o=n[1];e.arr[i].deleted=!0,e.arr[o].deleted=!0,e.history.push({idx:n,length:a}),e.score+=l.lineScoring.delete},onNext:function(e,t){var r=e.arr.length;e.arr=a([],t.payload,!0);var n=e.history;n.push({idx:[],length:r}),e.history=n,e.score+=l.lineScoring.next,e.arr.length>l.lineFailCount&&(e.fail=!0)},onUndo:function(e){var t=e.history.pop(),r=t.idx,n=t.length;if(r.length){var a=r[0],i=r[1];e.arr[a].deleted=!1,e.arr[i].deleted=!1}var o=e.arr.slice(0,n);e.arr=o,e.score=Math.max(e.score+l.lineScoring.undo,0)},onStartGame:function(e){e.started=!0},onRestart:function(e){var t;for(var r in u)Object.assign(e,((t={})[r]=u[r],t)),e.started=!0},onContinue:function(e){e.continued=!0},onLoadGame:function(e,t){var r;for(var n in e)Object.assign(e,((r={})[n]=t.payload[n]||u[n],r)),e.started=!0},startTimer:function(e){e.timer="00:00:00"},resetTimer:function(e){e.timer=u.timer},saveTimer:function(e,t){"00:00:00"!==t.payload&&(e.timer=t.payload)},onVictory:function(e){e.win=!0,e.score+=l.lineScoring.win,e.started=!1}}}),t.onStartGame=(n=t.lineSlice.actions).onStartGame,t.saveTimer=n.saveTimer,t.onContinue=n.onContinue,t.onVictory=n.onVictory,t.onDeleteChars=n.onDeleteChars,t.onNext=n.onNext,t.onUndo=n.onUndo,t.onRestart=n.onRestart,t.onLoadGame=n.onLoadGame,t.startTimer=n.startTimer,t.resetTimer=n.resetTimer,t.default=t.lineSlice.reducer},3011:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.store=void 0;var a=r(4603),i=n(r(6280)),o=n(r(7649));t.store=(0,a.configureStore)({reducer:{line:i.default,knight:o.default}})},7688:function(e,t){var r=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,a=0,i=t.length;a<i;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.copyMatrix=void 0,t.copyMatrix=function(e){for(var t=[],n=0,a=e;n<a.length;n++){var i=a[n];t.push(r([],i,!0))}return t}},4467:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getTime=void 0,t.getTime=function(e){var t,r;return null===(r=null===(t=null==e?void 0:e.current)||void 0===t?void 0:t.dataset)||void 0===r?void 0:r.time}},6782:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getTime=t.copyMatrix=void 0;var n=r(7688);Object.defineProperty(t,"copyMatrix",{enumerable:!0,get:function(){return n.copyMatrix}});var a=r(4467);Object.defineProperty(t,"getTime",{enumerable:!0,get:function(){return a.getTime}})},3141:function(e,t,r){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},n.apply(this,arguments)},a=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Button=void 0;var o=i(r(6942)),l=i(r(6540)),u=i(r(6101));t.Button=function(e){var t=e.children,r=e.spec,i=e.size,c=e.floatRight,d=a(e,["children","spec","size","floatRight"]);return l.default.createElement("button",n({className:(0,o.default)(u.default.button,r&&u.default["button__".concat(r)],i&&u.default["button_".concat(i)],c&&u.default.right)},d),t)}},1151:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Header=void 0;var l=i(r(6540)),u=o(r(2807));t.Header=function(){var e=(0,l.useState)("Добро пожаловать в игры")[0];return l.default.createElement("div",{className:u.default.header},l.default.createElement("h1",null,e))}},9731:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Modal=void 0;var a=n(r(6540)),i=n(r(6942)),o=n(r(1043)),l=r(961);t.Modal=function(e){var t=e.children,r=e.className,n=e.onClose;return a.default.createElement(a.default.Fragment,null,(0,l.createPortal)(a.default.createElement("div",{className:(0,i.default)(r,o.default.modal__blackout),onClick:n},a.default.createElement("div",{className:(0,i.default)(r,o.default.modal__container)},a.default.createElement("div",{className:(0,i.default)(r,o.default["modal__close-button"]),onClick:n}),t)),document.body))}},79:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Patch=void 0;var a=n(r(6540)),i=n(r(5303)),o=n(r(6942));t.Patch=function(e){var t=e.game;return a.default.createElement("div",{className:(0,o.default)(i.default.patch,i.default["patch_".concat(t)])},a.default.createElement("p",{className:i.default.patch__message},"пауза"))}},7115:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Score=void 0;var a=n(r(6540)),i=n(r(6942)),o=n(r(1547));t.Score=function(e){var t=e.children,r=e.className;return a.default.createElement("div",{className:(0,i.default)(r,o.default.score)},"Текущий счет: ",t)}},1946:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.NavItem=void 0;var a=n(r(6540)),i=n(r(6942)),o=n(r(270)),l=r(4976);t.NavItem=function(e){var t=e.name,r=e.onclick,n=e.href,u=e.className;return a.default.createElement("li",{className:(0,i.default)(u,o.default["nav-list__item"])},n&&a.default.createElement(l.NavLink,{className:function(e){return e.isActive?o.default.active:""},to:n,onClick:r},t),!n&&a.default.createElement("span",{onClick:r},t))}},5962:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Sidebar=void 0;var l=i(r(6540)),u=r(1946),c=o(r(5086));t.Sidebar=function(e){var t=e.links,r=(0,l.useState)(t)[0];return l.default.createElement("aside",{className:c.default.sidebar},l.default.createElement("ul",{className:"nav-list"},r.map((function(e,t){return l.default.createElement(u.NavItem,{active:e.active,name:e.name,href:e.href,key:t})}))))}},2689:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Sidebar=t.NavItem=void 0;var n=r(1946);Object.defineProperty(t,"NavItem",{enumerable:!0,get:function(){return n.NavItem}});var a=r(5962);Object.defineProperty(t,"Sidebar",{enumerable:!0,get:function(){return a.Sidebar}})},5423:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Spinner=void 0;var a=n(r(6540)),i=n(r(4015));t.Spinner=function(){return a.default.createElement("div",{className:i.default.white,"aria-hidden":!0},a.default.createElement("div",{className:i.default.spinner},a.default.createElement("span",{className:i.default.dot},a.default.createElement("i",{className:i.default.item}),a.default.createElement("i",{className:i.default.item}),a.default.createElement("i",{className:i.default.item}),a.default.createElement("i",{className:i.default.item}))))}},2219:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Timer=void 0;var l=i(r(6540)),u=o(r(6942)),c=o(r(8219)),d=r(3829),s=r(6091);t.Timer=(0,l.forwardRef)((function(e,t){var r=e.className,n=e.time,a=e.pause,i=e.callback,o=(0,l.useState)(0),f=o[0],m=o[1],v=(0,l.useState)(0),_=v[0],h=v[1],p=(0,l.useState)(0),g=p[0],b=p[1];return(0,l.useRef)(null).current=(0,s.useInterval)((function(){a||(b(g+1),59===g&&(b(0),h(_+1)),59===_&&(h(0),m(f+1)),i&&i((0,d.makeTimeString)(f,_,g)))}),1e3),(0,l.useEffect)((function(){if(n){var e=(0,d.parseTime)(n),t=e[0],r=e[1],a=e[2];h(r),m(t),b(a)}else h(0),m(0),b(0)}),[n]),l.default.createElement("div",{"data-time":(0,d.makeTimeString)(f,_,g),ref:t,className:(0,u.default)(r,c.default.timer)},f<10&&"0",f,":",_<10&&"0",_,":",g<10&&"0",g)}))},3829:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.makeTimeString=t.parseTime=t.getTime=void 0,t.getTime=function(e){var t=Math.floor(+e/1e3),r=Math.floor(t/60);t-=60*r;var n=Math.floor(r/60);return{hours:n,mins:r-=60*n,secs:t}},t.parseTime=function(e){return e.split(":").map((function(e){return Number(e)}))},t.makeTimeString=function(e,t,r){return"".concat(e<10?"0":"").concat(e,":").concat(t<10?"0":"").concat(t,":").concat(r<10?"0":"").concat(r)}},8006:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Modal=t.Timer=t.Sidebar=t.NavItem=t.Score=t.Patch=t.Header=t.Button=void 0;var n=r(3141);Object.defineProperty(t,"Button",{enumerable:!0,get:function(){return n.Button}});var a=r(1151);Object.defineProperty(t,"Header",{enumerable:!0,get:function(){return a.Header}});var i=r(79);Object.defineProperty(t,"Patch",{enumerable:!0,get:function(){return i.Patch}});var o=r(7115);Object.defineProperty(t,"Score",{enumerable:!0,get:function(){return o.Score}});var l=r(2689);Object.defineProperty(t,"NavItem",{enumerable:!0,get:function(){return l.NavItem}}),Object.defineProperty(t,"Sidebar",{enumerable:!0,get:function(){return l.Sidebar}});var u=r(2219);Object.defineProperty(t,"Timer",{enumerable:!0,get:function(){return u.Timer}});var c=r(9731);Object.defineProperty(t,"Modal",{enumerable:!0,get:function(){return c.Modal}})},7664:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.GameLayout=void 0;var l=i(r(6540)),u=o(r(9418)),c=r(8512);t.GameLayout=function(e){var t=e.children,r=(0,l.useState)(""),n=r[0],a=r[1];return(0,l.useEffect)((function(){var e=window.location.pathname;a(c.headings[e])})),l.default.createElement("div",{className:u.default["game-layout"]},l.default.createElement("h2",{className:u.default["game-heading"]},n),t)}},8512:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.headings=void 0;var n="/games.2.0./";t.headings=((r={})[n]="Игра в вычеркни число",r["".concat(n,"knight")]="Игра в ход конем",r["".concat(n,"tetris")]="Тетрис",r)},3070:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MainContentWrapper=void 0;var a=n(r(6540)),i=n(r(1360));t.MainContentWrapper=function(e){var t=e.children;return a.default.createElement("main",{className:i.default["main-content-wrapper"]},t)}},238:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RulesLayout=void 0;var a=n(r(6540)),i=n(r(6942)),o=n(r(4356));t.RulesLayout=function(e){var t=e.children,r=e.className;return a.default.createElement("div",{className:(0,i.default)(r,o.default["rules-layout"])},t)}}}]);