"use strict";(self.webpackChunkGames=self.webpackChunkGames||[]).push([[830],{2896:(e,t,r)=>{r(6540);var n=r(5338),l=r(2525),a=r.n(l),i=r(4848);const o=document.getElementById("root");(0,n.H)(o).render((0,i.jsx)(a(),{}))},809:(e,t,r)=>{r.r(t),r.d(t,{default:()=>n});const n='<h3>Правила игры в вычеркни число</h3> <p> Цель игры - полностью освободить от цифр игровое поле. Для этого нужно удалять цифры, сумма которых равна 10 либо которые равны друг другу и между которыми нет других цифр по горизонтали либо по вертикали (удаленные цифры не считаются). </p> <p>Когда все возможности удаления исчерпаны, нажмите "Дальше" &mdash; на поле добавятся неудаленные цифры.</p> '},8326:(e,t,r)=>{r.r(t),r.d(t,{default:()=>n});const n='<article> <h5>Все знают, как играть в тетрис! А если вы не знаете - так это просто: </h5> <ul> <li>ставите фигуры,</li> <li>складываете из них ряды,</li> <li>ряды исчезают, </li> <li>очки прибавляются ))</li> </ul> <h5> <strong>Подсчет очков</strong> ведется по схеме: </h5> <table className="rules__table"> <thead> <tr> <th> <strong>Уровень</strong> </th> <th> <strong>1 ряд</strong> </th> <th> <strong>2 ряда</strong> </th> <th> <strong>3 ряда</strong> </th> <th> <strong>4 ряда</strong> </th> </tr> </thead> <tbody> <tr> <td>0</td> <td>40</td> <td>100</td> <td>300</td> <td>1200</td> </tr> <tr> <td>1</td> <td>80</td> <td>200</td> <td>600</td> <td>2400</td> </tr> <tr> <td>2</td> <td>120</td> <td>300</td> <td>900</td> <td>3600</td> </tr> <tr> <td>9</td> <td>400</td> <td>1000</td> <td>3000</td> <td>12000</td> </tr> <tr> <td>n</td> <td>40 * (n + 1)</td> <td>100 * (n + 1)</td> <td>300 * (n + 1)</td> <td>1200 * (n + 1)</td> </tr> </tbody> </table> <h5> А еще <strong>добавляются очки за ускоренную установку фигуры</strong>: </h5> <ul> <li>2 очка / клетка за пробел,</li> <li>1 очко / клетка за клавишу вниз</li> </ul> <h5> Кстати! <strong>Управление фигурами</strong> осуществляется клавишами (стрелки и WASD для олдовых геймеров) </h5> <ul> <li> <strong>влево / A</strong> сдвигает фигуру влево (если быстро нажать - на клетку, если нажать и не отпускать - до упора) </li> <li> <strong>вправо / D</strong>, соответственно, сдвигает фигуру вправо </li> <li> <strong>вверх / W</strong> поворачивает фигуру по часовой стрелке на 90 градусов </li> <li> <strong>вниз / S</strong> опускает фигуру быстрее </li> <li> <strong>пробел</strong> "бросает" фигуру </li> <li> по нажатию на <strong>ENTER</strong> разворачивается фуллскрин (чтобы вернуться - нажмите еще раз) </li> <li> по нажатию на <strong>P</strong> игра ставится на паузу </li> </ul> <p> <strong>Уровень поднимается</strong> каждые 10 убранных рядов, при этом растет и скорость, а значит, играть становится сложнее. </p> <p> Маленькая подсказка: чем больше рядов уберете сразу, тем больше получите очков. Попробуйте оставлять место под Длинную Палку, чтобы одним махом убирать четыре ряда! (но не переусердствуйте, а то завалит) </p> <p> Вроде бы все :) <strong>Приятной игры!</strong> ^___^ </p> </article> '},4153:(e,t,r)=>{r.r(t),r.d(t,{default:()=>n});const n={"line-button":"line-button__OWmUt","line-button_wrong":"line-button_wrong__srWdi",active:"active__nCOXS"}},8155:(e,t,r)=>{r.r(t),r.d(t,{default:()=>n});const n={"line-field":"line-field__vLvdg"}},6642:(e,t,r)=>{r.r(t),r.d(t,{default:()=>n});const n={"line-layout":"line-layout__u9FC8"}},5051:(e,t,r)=>{r.r(t),r.d(t,{default:()=>n});const n={"field-tetris":"field-tetris__YveRS","next-figure__container":"next-figure__container__Kiti0","next-figure__canvas":"next-figure__canvas__k066r"}},6843:function(e,t,r){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var l in t=arguments[r])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e},n.apply(this,arguments)},l=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(r[n[l]]=e[n[l]])}return r},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LineButton=void 0;var i=a(r(6540)),o=a(r(6942)),u=a(r(4153));t.LineButton=function(e){var t=e.children,r=e.className,a=e.active,s=void 0!==a&&a,c=l(e,["children","className","active"]);return i.default.createElement("button",n({className:(0,o.default)(r,u.default["line-button"],s&&u.default.active)},c),t)}},2849:function(e,t,r){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var l in t=arguments[r])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e},n.apply(this,arguments)},l=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(r[n[l]]=e[n[l]])}return r},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LineField=void 0;var i=a(r(6540)),o=a(r(6942)),u=a(r(8155));t.LineField=function(e){var t=e.children,r=e.className,a=l(e,["children","className"]);return i.default.createElement("div",n({className:(0,o.default)(r,u.default["line-field"])},a),t)},t.default=name},2423:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.defaultItem=t.startArr=void 0,t.startArr=[1,1,1,2,1,3,1,4,1,1,2,3,4,5,6,7,8,9],t.defaultItem={active:!1,deleted:!1,value:0}},1430:function(e,t,r){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var l in t=arguments[r])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.checkVertical=t.checkHorizontal=t.getDefaultArray=void 0;var l=r(2423);t.getDefaultArray=function(){return l.startArr.map((function(e){return n(n({},l.defaultItem),{value:e})}))},t.checkHorizontal=function(e,t,r){if(e[t].value!==e[r].value&&e[t].value+e[r].value!==10)return!1;for(var n=Math.min(t,r)+1;n<Math.max(t,r);n++)if(!e[n].deleted)return!1;return!0},t.checkVertical=function(e,t,r){if(e[t].value!==e[r].value&&e[t].value+e[r].value!==10)return!1;if(t-9*Math.floor(t/9)!=r-9*Math.floor(r/9))return!1;for(var n=Math.min(t,r)+9;n<Math.max(t,r);n+=9)if(!e[n].deleted)return!1;return!0}},3850:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LineLayout=void 0;var l=n(r(6540)),a=n(r(6942)),i=n(r(6642));t.LineLayout=function(e){var t=e.children,r=e.className;return l.default.createElement("div",{className:(0,a.default)(r,i.default["line-layout"])},t)}},4557:function(e,t,r){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var l in t=arguments[r])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e},n.apply(this,arguments)},l=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var l=Object.getOwnPropertyDescriptor(t,r);l&&!("get"in l?!t.__esModule:l.writable||l.configurable)||(l={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,l)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&l(t,e,r);return a(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Tetris=void 0;var u=i(r(6540)),s=o(r(6942)),c=o(r(5051)),d=r(1870),f=r(3821),v=r(7664),m=r(238),h=r(79),g=r(2219),_=r(3141),p=o(r(8326)),y=r(7115),b=r(8006),O=r(6782),S=o(r(5134));t.Tetris=function(){var e=d.dimensions.width,t=d.dimensions.height,r=d.dimensions.cellSize,l=d.dimensions.figWidth,a=d.dimensions.figHeight,i=(0,u.useState)([]),o=i[0],w=i[1],E=(0,u.useState)(null),M=E[0],x=E[1],j=(0,u.useState)(null),P=j[0],k=j[1],C=(0,u.useState)(!1),I=C[0],T=C[1],D=(0,u.useState)(!1),F=D[0],R=D[1],L=(0,u.useState)(!1),A=L[0],N=L[1],z=(0,u.useState)(0),V=z[0],B=z[1],W=(0,u.useState)(0),G=W[0],q=W[1],H=(0,u.useState)(1e3),K=H[0],J=H[1],Z=(0,u.useState)(1),U=Z[0],X=Z[1],Y=(0,u.useState)("00:00:00"),Q=Y[0],$=Y[1],ee=(0,u.useState)(!1),te=ee[0],re=ee[1],ne=(0,u.useState)(null),le=ne[0],ae=ne[1],ie=(0,u.useState)(null),oe=ie[0],ue=ie[1],se=(0,u.useRef)(null),ce=(0,u.useRef)(null),de=(0,u.useRef)(null),fe=(0,u.useRef)(null),ve=(0,u.useState)(!1),me=ve[0],he=ve[1],ge=JSON.parse(localStorage.getItem("tetris-score"))||{score:d.defaults.score,lineCount:d.defaults.lineCount,time:d.defaults.time},_e=ge.score,pe=ge.lineCount,ye=ge.time;(0,u.useEffect)((function(){return document.addEventListener("keydown",xe),function(){document.removeEventListener("keydown",xe)}})),(0,u.useEffect)((function(){var e=se.current,t=ce.current;if(e&&t){var r=e.getContext("2d"),n=t.getContext("2d");r&&n&&(r.fillStyle="rgba(255, 255, 255, 0)",r.strokeStyle="rgba(0, 0, 0, 1)",r.fillRect(0,0,r.canvas.width,r.canvas.height),ae(r),ue(n))}}),[]),(0,u.useEffect)((function(){le&&be()}),[le]),(0,u.useEffect)((function(){!I&&!A||F||requestAnimationFrame(Oe)}),[te,M,P]);var be=function(){w((0,f.getDefaultPlayfield)()),B(d.defaults.score),X(d.defaults.level),q(d.defaults.lineCount),J(d.defaults.speed),T(d.defaults.isGameStarted),N(d.defaults.gameOver),R(d.defaults.pause),x((0,f.getRandomTetromino)()),k((0,f.getRandomTetromino)()),$(d.defaults.time)},Oe=(0,u.useCallback)((function(){if(!F&&le){var e=le,t=oe;if(e.clearRect(0,0,se.current.width,se.current.height),(0,f.drawField)(e),(0,f.colorField)(e,o),P){t.clearRect(0,0,ce.current.width,ce.current.height);for(var n=0;n<P.matrix.length;n++)for(var l=0;l<P.matrix[n].length;l++){var a=1.5;"I"===P.name&&(a=1),t.fillStyle=d.colors[P.name],P.matrix[n][l]&&t.fillRect((l+("O"===P.name?2:a))*r,(n+a)*r,r-1,r-1)}}if(M){var i=M;i.row++,(0,f.isValidMove)(i,o)||(i.row--,x(i),je()),(0,f.colorTetromino)(e,M,A?"lightgray":d.colors[M.name])}ae(e),ue(t)}}),[le,o,M,P,A]);fe.current=setTimeout((function(){I&&!F&&re(!te)}),K);var Se=(0,u.useCallback)((function(){T(!0),R(!1),se.current.focus()}),[I,F,se]),we=(0,u.useCallback)((function(){N(!1),be(),Se()}),[A]),Ee=(0,u.useCallback)((function(){var e=de.current.dataset.time,t={score:Math.max(V,_e),lineCount:Math.max(G,pe),time:e.localeCompare(ye)>0?e:ye};localStorage.setItem("tetris-score",JSON.stringify(t)),$(e),I&&he(!0),N(!0),T(!1),F&&R(!1),(0,f.colorField)(le,o,"lightgray")}),[Q,I,A,F,le]),Me=(0,u.useCallback)((function(){R(!F),F||se.current.focus()}),[F,se]),xe=function(e){switch(e.code){case"ArrowUp":case"KeyW":var t=(0,f.rotate)(M.matrix);(0,f.isValidMove)(n(n({},M),{matrix:t}),o)&&x(n(n({},M),{matrix:t}));break;case"ArrowDown":case"KeyS":var r=M.row+1;if(!(0,f.isValidMove)(n(n({},M),{row:r}),o))return x(n(n({},M),{row:r})),void je();x(n(n({},M),{row:r})),B(V+1);break;case"ArrowLeft":case"KeyA":var l=M.col-1;(0,f.isValidMove)(n(n({},M),{col:l}),o)&&x(n(n({},M),{col:l}));break;case"ArrowRight":case"KeyD":l=M.col+1,(0,f.isValidMove)(n(n({},M),{col:l}),o)&&x(n(n({},M),{col:l}));break;case"KeyP":Me();break;case"Space":for(var a=V;(0,f.isValidMove)(M,o);)x({currentTetromino:M,row:M.row++}),a+=2;(0,f.isValidMove)(M,o)||(x(n(n({},M),{row:M.row--})),je(),B(a-2));break;case"Enter":document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen()}},je=function(){var e;try{for(var t=0,r=(0,O.copyMatrix)(o),n=!1,l=0;l<M.matrix.length;l++)for(var a=0;a<M.matrix[l].length;a++)M.matrix[l][a]&&(M.row+l<0&&(Ee(),n=!0),n||(r[M.row+l][M.col+a]=M.name));for(var i=o.length-1;i>=0;)if(r[i].every((function(e){return!!e}))){t++;var u=G;++u>=10&&u%10==0&&(X(U+1),J(K-50));for(var s=i;s>0;s--)for(var c=0;c<o[s].length;c++)r[s][c]=r[s-1][c];q(u)}else i--;var v=null!==(e=d.lineScore[t])&&void 0!==e?e:1200;for(B(V+v*(U+1)),s=0;s<o[0].length;s++)if(void 0!==o[0][s])return void Ee();x(P),k((0,f.getRandomTetromino)()),w(r)}catch(e){console.log(e)}};return u.default.createElement(v.GameLayout,null,A&&u.default.createElement(S.default,null),me&&u.default.createElement(b.Modal,{onClose:function(){return he(!1)}},u.default.createElement("p",null,"Игра закончена! ",u.default.createElement("br",null),"Ваш счет ",V,", вы убрали ",G," линий за ",Q,".",u.default.createElement("br",null),"Поздравляем!"),u.default.createElement("br",null),u.default.createElement(_.Button,{onClick:we},"Новая игра")),u.default.createElement("div",{className:(0,s.default)(c.default["field-tetris"])},F&&u.default.createElement(h.Patch,{game:"tetris"}),u.default.createElement("canvas",{ref:se,id:"canvas",width:r*e,height:r*t,tabIndex:0})),u.default.createElement(m.RulesLayout,null,u.default.createElement(g.Timer,{ref:de,time:Q,pause:!I||F}),u.default.createElement(y.Score,null,V),u.default.createElement("div",null,"Уровень ",U),u.default.createElement("div",null,"Убрали линий ",G),u.default.createElement("div",null,"Рекорд: ",_e),u.default.createElement("div",null,"Максимальное количество убранных линий: ",pe),u.default.createElement("div",null,"Самая долгая игра: ",ye),u.default.createElement("div",null,u.default.createElement("h3",null,"Игровое меню"),u.default.createElement("div",{className:c.default["next-figure__container"]},u.default.createElement("p",null,"следующая фигура"),u.default.createElement("canvas",{className:c.default["next-figure__canvas"],ref:ce,id:"canvas-figure",width:l*r,height:a*r})),u.default.createElement("div",null,u.default.createElement(_.Button,{onClick:we,size:"md"},I?"Играть заново":"Начать игру"),u.default.createElement(_.Button,{size:"md",disabled:!I,onClick:Ee},"Закончить игру"),u.default.createElement(_.Button,{size:"md",disabled:!I,onClick:Me},F?"Вернуться к игре":"Пауза"))),u.default.createElement("div",{dangerouslySetInnerHTML:{__html:p.default}})))}},1870:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.colors=t.lineScore=t.fillGameCanvas=t.maxMobileWidth=t.defaultSequence=t.gray=t.tetrominos=t.defaults=t.dimensions=void 0,t.dimensions={width:10,height:20,cellSize:30,figWidth:6,figHeight:5},t.defaults={isGameStarted:!1,pause:!1,gameOver:!1,score:0,lineCount:0,speed:1e3,level:1,time:"00:00:00"},t.tetrominos={I:[[0,0,0,0],[1,1,1,1],[0,0,0,0],[0,0,0,0]],J:[[1,0,0],[1,1,1],[0,0,0]],L:[[0,0,1],[1,1,1],[0,0,0]],O:[[1,1],[1,1]],S:[[0,1,1],[1,1,0],[0,0,0]],Z:[[1,1,0],[0,1,1],[0,0,0]],T:[[0,1,0],[1,1,1],[0,0,0]]},t.gray="#D9D9D9",t.defaultSequence=["I","J","L","O","S","T","Z"],t.maxMobileWidth=768,t.fillGameCanvas="rgba(255, 255, 255, 0",t.lineScore={0:0,1:40,2:100,3:300},t.colors={I:"#FFDD00",O:"#0DCAF0",T:"#EE82EE",S:"#CB0000",Z:"#FFA500",J:"#0000FF",L:"#008000"}},3821:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.colorTetromino=t.colorField=t.drawField=t.isValidMove=t.rotate=t.getDefaultPlayfield=t.getRandomTetromino=void 0;var n=r(1870);t.getRandomTetromino=function(){return function(e){return{name:e,matrix:n.tetrominos[e],row:"I"===e?-2:-1,col:3}}((e=0,t=n.defaultSequence.length-1,e=Math.ceil(e),t=Math.floor(t),r=Math.floor(Math.random()*(t-e+1))+e,n.defaultSequence[r]));var e,t,r},t.getDefaultPlayfield=function(){for(var e=[],t=-2;t<n.dimensions.height;t++){e[t]=[];for(var r=0;r<n.dimensions.width;r++)e[t][r]=void 0}return e},t.rotate=function(e){var t=e.length-1;return e.map((function(r,n){return r.map((function(r,l){return e[t-l][n]}))}))},t.isValidMove=function(e,t){for(var r=e.matrix,n=e.row,l=void 0===n?0:n,a=e.col,i=void 0===a?0:a,o=0;o<r.length;o++)for(var u=0;u<r[o].length;u++)if(r[o][u]&&(i+u<0||i+u>=t[0].length||l+o>=t.length||t[l+o]&&t[l+o][i+u]))return!1;return!0},t.drawField=function(e){var t=n.dimensions.width,r=n.dimensions.height,l=n.dimensions.cellSize;e.beginPath();for(var a=0;a<=t;a++)e.moveTo(l*a,0),e.lineTo(l*a,l*r);for(var i=0;i<=r;i++)e.moveTo(0,l*i),e.lineTo(l*t,l*i);e.fillStyle="white",e.fillRect(0,0,e.canvas.width,e.canvas.height),e.stroke()},t.colorField=function(e,t,r){for(var l=0;l<n.dimensions.height;l++)for(var a=0;a<n.dimensions.width;a++)if(t[l][a]){0;var i=t[l][a];e.fillStyle=r||(i?n.colors[i]:"white"),e.fillRect(a*n.dimensions.cellSize+1,l*n.dimensions.cellSize+1,n.dimensions.cellSize-2,n.dimensions.cellSize-2)}},t.colorTetromino=function(e,t,r){var l=n.dimensions.cellSize;e.fillStyle=r;for(var a=0;a<t.matrix.length;a++)for(var i=0;i<t.matrix[a].length;i++)t.matrix[a][i]&&e.fillRect((t.col+i)*l+1,(t.row+a)*l+1,l-2,l-2)}},6091:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useInterval=void 0;var n=r(1125);Object.defineProperty(t,"useInterval",{enumerable:!0,get:function(){return n.useInterval}})},1125:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useInterval=void 0;var n=r(6540);t.useInterval=function(e,t){var r=(0,n.useRef)();(0,n.useEffect)((function(){r.current=e}),[e]),(0,n.useEffect)((function(){if(null!==t){var e=setInterval((function(){null==r||r.current()}),t);return function(){return clearInterval(e)}}}),[t])}}}]);